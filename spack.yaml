spack:
  view: false
  specs:
  - matrix:
    - - ccache
      - cmake
#      - googletest
      - ninja
#      - nlohmann-json
#      - hepmc3
      - root
      - vecgeom+gdml
#      - 'geant4@10.5'
      - 'geant4@10.6'
#      - 'geant4@10.7'
#      - 'geant4@11.0'
#      - 'geant4@11.1'
#      - 'geant4@11.2'
#      - 'geant4@11.3'
  concretizer:
    unify: false
  config:
    install_tree:
      root: /opt/spack
      padded_length: 128
      projections:
        all: "{compiler.name}-{compiler.version}/{name}/{version}/{hash:7}"
  packages:
    root:
      variants: ~aqua ~davix ~examples ~opengl ~x ~tbb
    all:
      require:
      - '%clang@18'
      - any_of: [+ipo, '@:']
      - any_of: [build_system=cmake, '@:']
      - any_of: [build_type=Release, '@:']
      - any_of: [generator=ninja, '@:']
      - any_of: [cxxstd=20, '@:']
